@model Web.Models.EditViewModel
@{
    ViewBag.Title = "Edit";
}

@{
    Layout = "../Shared/_BaseLayout.cshtml";
}

@section CSS{
    <meta http-equiv="X-FRAME-OPTIONS" content="SAMEORIGIN" />  
    <link href="~/Content/css/Edit/header.css" rel="stylesheet" />
    <link href="~/Content/css/Edit/index.css" rel="stylesheet" />
    <link href="~/Content/css/Novel/novel-editor.css" rel="stylesheet" />
    <link href="~/Content/css/Novel/Markup.css" rel="stylesheet" />
}

@section JS
{
    <script src="~/Scripts/collections.js"></script>
    <script src="~/Scripts/caret-util.js"></script>
    <script src="~/Scripts/underscore.js"></script>
    <script src="~/Scripts/Novel/Markups.js"></script>
    <script src="~/Scripts/Edit/EditPage.js"></script>
    <script src="~/Scripts/Novel/novel-editor.js"></script>
    <script src="~/Scripts/Utility/AspectRatioStretcher.js"></script>
    <script src="~/Scripts/Utility/HeightStretcher.js"></script>
    <script src="~/Scripts/Edit/Edit-autoHeight.js"></script>
    <script src="~/Scripts/Edit/showdialog.js"></script>
    @*<script src="~/Scripts/Edit/Edit-autoMargin-left.js"></script>*@
    <script src="~/Scripts/Edit/TagMaker.js"></script>
}

@*
    .edit-bg-overlay
      %header
      .edit-title-container
      .edit-title-chkvalid
      .edit-tag-container
      .edit-preview-container
        .edit-preview.preview-body
      .edit-text-container
      %footer
*@


<div class="edit-bg-overlay">

    @using (Html.BeginForm("Index", "Edit", FormMethod.Post, new {@class = "edit-form editpage-main"}))
    {
        <div class="edit-title-container">
            @Html.TextBoxFor((m) => m.Title, new {id = "title", type = "text", @class = "edit-title", placeholder = "タイトル"})
        </div>
        <div class="edit-title-chkvalid"></div>
        <div class="edit-tag-container">
            @Html.TextBoxFor((m) => m.Tag, new {id = "tag", type = "text", @class = "edit-tag", placeholder = "タグ"})
            <div class="edit-tag-chkvalid"></div>
        </div>
        <div class="edit-editted-box"></div>
        
        //リアルタイムプレビュー
        <div class="edit-preview-container">
            <div class="edit-preview-container-inner">
                <div class="edit-preview preview-body"></div>
                <div class="preview-iframes"></div>
            </div>
        </div>
        
        <div class="edit-text-container">
            <textarea class="edit-text edit-context" placeholder="textarea"></textarea>
        </div>
        @Html.AntiForgeryToken()
        @Html.HiddenFor((m) => m.Tag, new {id = "hidden-tag"})
        @Html.HiddenFor((m) => m.Body, new {id = "hidden-body"})
        @Html.HiddenFor((m)=>m.Markup,new{id="hidden-markup"})
        <a class="edit-submit-button">投稿する</a>
    }
    </div>
